(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2a913d52"],{"00b4":function(e,t,a){"use strict";a("ac1f");var c=a("23e7"),r=a("da84"),n=a("c65b"),o=a("e330"),l=a("1626"),s=a("861d"),d=function(){var e=!1,t=/[ac]/;return t.exec=function(){return e=!0,/./.exec.apply(this,arguments)},!0===t.test("abc")&&e}(),i=r.Error,m=o(/./.test);c({target:"RegExp",proto:!0,forced:!d},{test:function(e){var t=this.exec;if(!l(t))return m(this,e);var a=n(t,this,e);if(null!==a&&!s(a))throw new i("RegExp exec method returned something other than an Object or null");return!!a}})},"1dde":function(e,t,a){var c=a("d039"),r=a("b622"),n=a("2d00"),o=r("species");e.exports=function(e){return n>=51||!c((function(){var t=[],a=t.constructor={};return a[o]=function(){return{foo:1}},1!==t[e](Boolean).foo}))}},8418:function(e,t,a){"use strict";var c=a("a04b"),r=a("9bf2"),n=a("5c6c");e.exports=function(e,t,a){var o=c(t);o in e?r.f(e,o,n(0,a)):e[o]=a}},"99af":function(e,t,a){"use strict";var c=a("23e7"),r=a("da84"),n=a("d039"),o=a("e8b5"),l=a("861d"),s=a("7b0b"),d=a("07fa"),i=a("8418"),m=a("65f0"),b=a("1dde"),u=a("b622"),f=a("2d00"),j=u("isConcatSpreadable"),p=9007199254740991,O="Maximum allowed index exceeded",v=r.TypeError,V=f>=51||!n((function(){var e=[];return e[j]=!1,e.concat()[0]!==e})),h=b("concat"),g=function(e){if(!l(e))return!1;var t=e[j];return void 0!==t?!!t:o(e)},E=!V||!h;c({target:"Array",proto:!0,forced:E},{concat:function(e){var t,a,c,r,n,o=s(this),l=m(o,0),b=0;for(t=-1,c=arguments.length;t<c;t++)if(n=-1===t?o:arguments[t],g(n)){if(r=d(n),b+r>p)throw v(O);for(a=0;a<r;a++,b++)a in n&&i(l,b,n[a])}else{if(b>=p)throw v(O);i(l,b++,n)}return l.length=b,l}})},b0c0:function(e,t,a){var c=a("83ab"),r=a("5e77").EXISTS,n=a("e330"),o=a("9bf2").f,l=Function.prototype,s=n(l.toString),d=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,i=n(d.exec),m="name";c&&!r&&o(l,m,{configurable:!0,get:function(){try{return i(d,s(this))[1]}catch(e){return""}}})},f8e3:function(e,t,a){"use strict";a.r(t);a("b0c0"),a("b64b");var c=a("7a23"),r={class:"container"},n={class:"row flex-column-reverse flex-md-row"},o={class:"col-md-6"},l=Object(c["createElementVNode"])("h3",{class:"text-secondary text-center pt-8 mb-6 mb-md-10"},"收件資訊",-1),s={class:"mb-3"},d=Object(c["createElementVNode"])("label",{for:"email",class:"form-label"},"Email",-1),i={class:"mb-3"},m=Object(c["createElementVNode"])("label",{for:"name",class:"form-label"},"收件人姓名",-1),b={class:"mb-3"},u=Object(c["createElementVNode"])("label",{for:"tel",class:"form-label"},"收件人電話",-1),f={class:"mb-3"},j=Object(c["createElementVNode"])("label",{for:"address",class:"form-label"},"收件人地址",-1),p={class:"mb-3"},O=Object(c["createElementVNode"])("label",{for:"message",class:"form-label"},"留言",-1),v={class:"text-end"},V=["disabled"],h={class:"col-md-6 bg-primary"},g={class:"card rounded-3 mx-2 px-2 mt-8 pb-6 mb-12"},E={class:"card-body"},N=Object(c["createElementVNode"])("h3",{class:"text-secondary pt-4 mb-9"},"購物清單",-1),x={class:"row g-0"},y={class:"col-md-5"},w=["src","alt"],k={class:"col-md-7"},D={class:"card-body d-flex flex-column justify-content-between h-100 pb-2 pb-md-0"},S={class:"title d-flex justify-content-between"},C={class:"card-title text-secondary fs-5 fs-md-4"},$={class:"price d-flex flex-column justify-content-md-between flex-md-row"},B={class:"text-secondary"},I={class:"card-text fs-5 fs-md-3 text-danger"},U={class:"list-unstyled mb-12"},q={class:"d-flex justify-content-between mb-5"},T=Object(c["createTextVNode"])(" 總額"),z={class:"d-flex justify-content-between mb-5"},F=Object(c["createTextVNode"])(" 折扣優惠"),M={class:"d-flex justify-content-between fw-bold border-top border-bottom py-6"},_=Object(c["createElementVNode"])("span",{class:"fs-6"},"總金額",-1),J={class:"fs-4 text-danger"};function L(e,t,a,L,P,R){var A=Object(c["resolveComponent"])("Field"),X=Object(c["resolveComponent"])("ErrorMessage"),G=Object(c["resolveComponent"])("Form");return Object(c["openBlock"])(),Object(c["createElementBlock"])("div",r,[Object(c["createElementVNode"])("div",n,[Object(c["createElementVNode"])("div",o,[l,Object(c["createVNode"])(G,{class:"pe-md-6 pb-10",ref:"form",onSubmit:R.sendOrder},{default:Object(c["withCtx"])((function(e){var a,r=e.errors;return[Object(c["createElementVNode"])("div",s,[d,Object(c["createVNode"])(A,{id:"email",name:"信箱",type:"email",class:Object(c["normalizeClass"])(["form-control bg-light",{"is-invalid":r["信箱"]}]),placeholder:"請輸入 Email",rules:"email|required",modelValue:P.form.user.email,"onUpdate:modelValue":t[0]||(t[0]=function(e){return P.form.user.email=e})},null,8,["class","modelValue"]),Object(c["createVNode"])(X,{name:"信箱",class:"invalid-feedback"})]),Object(c["createElementVNode"])("div",i,[m,Object(c["createVNode"])(A,{id:"name",name:"姓名",type:"text",class:Object(c["normalizeClass"])(["form-control bg-light",{"is-invalid":r["姓名"]}]),placeholder:"請輸入姓名",rules:"required",modelValue:P.form.user.name,"onUpdate:modelValue":t[1]||(t[1]=function(e){return P.form.user.name=e})},null,8,["class","modelValue"]),Object(c["createVNode"])(X,{name:"姓名",class:"invalid-feedback"})]),Object(c["createElementVNode"])("div",b,[u,Object(c["createVNode"])(A,{id:"tel",name:"電話",type:"text",class:Object(c["normalizeClass"])(["form-control bg-light",{"is-invalid":r["電話"]}]),placeholder:"請輸入電話",rules:R.isPhone,modelValue:P.form.user.tel,"onUpdate:modelValue":t[2]||(t[2]=function(e){return P.form.user.tel=e})},null,8,["class","rules","modelValue"]),Object(c["createVNode"])(X,{name:"電話",class:"invalid-feedback"})]),Object(c["createElementVNode"])("div",f,[j,Object(c["createVNode"])(A,{id:"address",name:"地址",type:"text",class:Object(c["normalizeClass"])(["form-control bg-light",{"is-invalid":r["地址"]}]),placeholder:"請輸入地址",rules:"required",modelValue:P.form.user.address,"onUpdate:modelValue":t[3]||(t[3]=function(e){return P.form.user.address=e})},null,8,["class","modelValue"]),Object(c["createVNode"])(X,{name:"地址",class:"invalid-feedback"})]),Object(c["createElementVNode"])("div",p,[O,Object(c["withDirectives"])(Object(c["createElementVNode"])("textarea",{id:"message",class:"form-control bg-light","onUpdate:modelValue":t[4]||(t[4]=function(e){return P.form.message=e}),cols:"30",rows:"10"},null,512),[[c["vModelText"],P.form.message]])]),Object(c["createElementVNode"])("div",v,[Object(c["createElementVNode"])("button",{type:"submit",class:"btn btn-info text-light",disabled:0===(null===(a=P.cartData.carts)||void 0===a?void 0:a.length)||Object.keys(r).length>0}," 送出訂單 ",8,V)])]})),_:1},8,["onSubmit"])]),Object(c["createElementVNode"])("div",h,[Object(c["createElementVNode"])("div",g,[Object(c["createElementVNode"])("div",E,[N,(Object(c["openBlock"])(!0),Object(c["createElementBlock"])(c["Fragment"],null,Object(c["renderList"])(P.cartData.carts,(function(e){return Object(c["openBlock"])(),Object(c["createElementBlock"])("div",{class:"card rounded-2 mb-6",key:e.id},[Object(c["createElementVNode"])("div",x,[Object(c["createElementVNode"])("div",y,[Object(c["createElementVNode"])("img",{src:e.product.imageUrl,class:"img-fluid rounded-start h-100 object-fit-cover",alt:e.product.title},null,8,w)]),Object(c["createElementVNode"])("div",k,[Object(c["createElementVNode"])("div",D,[Object(c["createElementVNode"])("div",S,[Object(c["createElementVNode"])("h5",C,Object(c["toDisplayString"])(e.product.title),1)]),Object(c["createElementVNode"])("div",$,[Object(c["createElementVNode"])("p",B,"數量："+Object(c["toDisplayString"])(e.qty),1),Object(c["createElementVNode"])("p",I," $ "+Object(c["toDisplayString"])(e.total),1)])])])])])})),128)),Object(c["createElementVNode"])("ul",U,[Object(c["createElementVNode"])("li",q,[T,Object(c["createElementVNode"])("span",null,"$ "+Object(c["toDisplayString"])(parseInt(P.cartData.total)),1)]),Object(c["createElementVNode"])("li",z,[F,Object(c["createElementVNode"])("span",null,"- $ "+Object(c["toDisplayString"])(parseInt(P.cartData.total)-parseInt(P.cartData.final_total)),1)]),Object(c["createElementVNode"])("li",M,[_,Object(c["createElementVNode"])("span",J,"$ "+Object(c["toDisplayString"])(parseInt(P.cartData.final_total)),1)])])])])])])])}a("99af"),a("ac1f"),a("00b4");var P={data:function(){return{cartData:[],isLoadingItem:"",qty:1,form:{user:{email:"",name:"",tel:"",address:""},message:""}}},inject:["emitter"],methods:{getCartData:function(){var e=this,t="".concat("https://vue3-course-api.hexschool.io","/v2/api/").concat("karen666","/cart");this.$http.get(t).then((function(t){e.cartData=t.data.data})).catch((function(e){console.log(e)}))},sendOrder:function(){var e=this,t="".concat("https://vue3-course-api.hexschool.io","/v2/api/").concat("karen666","/order");this.$http.post(t,{data:this.form}).then((function(t){e.emitter.emit("get-cart-data");var a=t.data.orderId;e.$router.push("/checkorder/".concat(a))})).catch((function(e){console.log(e)}))},isPhone:function(e){var t=/^(09)[0-9]{8}$/;return!!t.test(e)||"請輸入有效的手機號碼"}},mounted:function(){this.getCartData()}},R=a("6b0d"),A=a.n(R);const X=A()(P,[["render",L]]);t["default"]=X}}]);
//# sourceMappingURL=chunk-2a913d52.8cbffaa4.js.map